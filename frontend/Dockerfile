FROM node:17-alpine
WORKDIR /front

ARG FRONT_CMD
ARG API_HOSTNAME
ARG CHOKIDAR_USEPOLLING
ARG FAST_REFRESH
ARG FRONT_PORT

ENV CHOKIDAR_USEPOLLING=$CHOKIDAR_USEPOLLING
ENV CHOKIDAR_USEPOLLING=$CHOKIDAR_USEPOLLING
ENV REACT_APP_API_HOSTNAME=$API_HOSTNAME
ENV PORT=$FRONT_PORT

COPY . .
RUN npm i @emotion/react @emotion/styled
CMD $FRONT_CMD