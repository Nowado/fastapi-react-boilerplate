FROM node:17-alpine
WORKDIR /front

ARG FRONT_CMD
ARG API_HOSTNAME
ARG FRONT_PORT

ENV REACT_APP_API_HOSTNAME=$API_HOSTNAME
ENV PORT=$FRONT_PORT

COPY . .
RUN npm install
CMD npm install -g serve
CMD $FRONT_CMD
